{"data":{"site":{"siteMetadata":{"title":"devLog","author":"Junho Baik"}},"markdownRemark":{"id":"/Users/junhobaik/Development/junhobaik.github.io/_posts/2017/2017-11-06-php-cookie-session.md absPath of file >>> MarkdownRemark","html":"<h3>Cookie</h3>\n<p>클라이언트(브라우저)에 데이터를 저장한다.<br>\n<code>setCookie(Key_String, Value_String)</code><br>\n<code>$_COOKIE</code></p>\n<pre><code class=\"language-php\">&#x3C;?php\n  setCookie('user', 'baik');\n  echo $_COOKIE['user']; // baik\n?>\n</code></pre>\n<h4>위 코드의 문제점</h4>\n<p>위 코드가 HTML 코드 안에 포함되어있다면 </p>\n<p><code>Warning: Cannot modify header information ...</code></p>\n<p>위와 같은 Warning을 만나게 되는데 HTML 코드 바깥으로 setCookie() 를 옮기면 해결할 수 있다 자세한 내용은 <a href=\"https://stackoverflow.com/questions/2658083/setcookie-cannot-modify-header-information-headers-already-sent\">링크</a> 참고.</p>\n<p>이 경고는 session에서도 동일하게 발생한다.</p>\n<h3>Session</h3>\n<p>SessionID(SID)를 식별자로 서버에 데이터를 저장</p>\n<p>SID로는 쿠키나 도메인 파라미터를 사용</p>\n<p><code>session_start();</code>로 시작, 스크립트의 최상단에 위치해야함</p>\n<p><code>$_SESSION</code></p>\n<p>데이터는 서버 내에 파일이나 DB에 저장</p>\n<p>주로 사용자 인증시에 사용함</p>\n<pre><code class=\"language-php\">&#x3C;?php\nsession_save_path('./session');\nsession_start();\n$_SESSION['name'] = 'baik';\necho $_SESSION['name'];\n?>\n</code></pre>\n<h4>간단한 로그인 예제</h4>\n<ul>\n<li>login.html</li>\n</ul>\n<pre><code class=\"language-html\">&#x3C;html>\n  &#x3C;head>\n    &#x3C;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" >\n  &#x3C;/head>\n  &#x3C;body>\n    &#x3C;form action=\"login_process.php\" method=\"POST\">\n      &#x3C;p>&#x3C;label>아이디&#x3C;/label>&#x3C;input type=\"text\" name=\"id\" />&#x3C;/p>\n      &#x3C;p>&#x3C;label>비밀번호&#x3C;/label>&#x3C;input type=\"text\" name=\"pwd\" />&#x3C;/p>\n\n      &#x3C;input type=\"submit\" />\n    &#x3C;/form>\n  &#x3C;/body>\n&#x3C;/html>\n</code></pre>\n<ul>\n<li>login_process.php</li>\n</ul>\n<pre><code class=\"language-php\">&#x3C;?php\nsession_start();\n$id = 'id';\n$pwd = 'pw';\nif(!empty($_POST['id']) &#x26;&#x26; !empty($_POST['pwd'])){\n    if($_POST['id'] == $id &#x26;&#x26; $_POST['pwd'] == $pwd){\n        $_SESSION['is_login'] = true;\n        $_SESSION['nickname'] = 'nick';\n        header('Location: ./session.php'); //redirection\n        exit;\n    }\n}\necho '로그인 하지 못했습니다.';\n?>\n</code></pre>\n<ul>\n<li>session.php</li>\n</ul>\n<pre><code class=\"language-php\">&#x3C;?php\nsession_start();\nif(!isset($_SESSION['is_login'])){\n    header('Location: ./login.html');\n}\n?>\n    &#x3C;html>\n\n    &#x3C;head>\n        &#x3C;meta charset=\"UTF-8\">\n    &#x3C;/head>\n\n    &#x3C;body>\n        &#x3C;?php echo $_SESSION['nickname'];?>님 환영합니다\n        &#x3C;br />\n        &#x3C;a href=\"./logout.php\">로그아웃&#x3C;/a>\n    &#x3C;/body>\n\n    &#x3C;/html>\n</code></pre>\n<ul>\n<li>logout.php</li>\n</ul>\n<pre><code class=\"language-php\">&#x3C;?php\nini_set(\"display_errors\", \"1\");\nsession_start();\nsession_destroy();\nheader('Location: ./login.html');\n?>\n</code></pre>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://opentutorials.org/module/6\">생활코딩 PHP 기본 강의</a></li>\n</ul>","frontmatter":{"title":"PHP Cookie, Session","date":"November 06, 2017"}}},"pageContext":{"slug":"/php-cookie-session/","previous":{"fields":{"slug":"/js-semicolon-asi/"},"frontmatter":{"title":"자바스크립트에서 세미콜론(;)을 안써도 될까?","tags":["javascript"]}},"next":{"fields":{"slug":"/js-react-apply-sass/"},"frontmatter":{"title":"React 프로젝트에 SASS 적용하기","tags":["react","javascript","sass"]}}}}