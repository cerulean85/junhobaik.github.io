<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/junhobaik.github.io/component---src-templates-blog-post-index-js.718d793d3e2bff70df64.css">.wrap{display:flex;min-height:100vh;min-width:100wh}@media screen and (max-width:680px){.wrap{flex-direction:column}}.wrap>:first-child{min-width:18em;width:18em}@media screen and (max-width:680px){.wrap>:first-child{width:100%}}.wrap>:nth-child(2){flex-grow:1}.menu{border-right:1px solid grey;display:flex;flex-direction:column;padding:2rem 1rem}@media screen and (max-width:680px){.menu{border-bottom:1px solid grey;border-right:0;flex-direction:row;padding:1rem 1rem .5rem}}.menu>.bio{align-items:center;display:flex;flex-direction:column}@media screen and (max-width:680px){.menu>.bio{flex-direction:row;flex-grow:1}}.menu>.bio .profile-name{font-size:1.2rem}@media screen and (max-width:680px){.menu>.bio .profile-name{margin-left:1rem}}.menu>.bio .profile-img img{border:1px solid #d3d3d3;border-radius:100%;height:5rem;padding:.25rem;width:5rem}@media screen and (max-width:680px){.menu>.bio .profile-img img{height:4rem;padding:.2rem;width:4rem}}@media screen and (max-width:680px){.menu>.bio .profile-msg{display:none}}.menu>.submenu{display:flex;flex-direction:column;flex-grow:1;margin-top:1rem}.menu>.submenu>a{padding:.2rem 0}@media screen and (max-width:680px){.menu>.submenu{align-content:center;align-items:center;display:flex;flex-direction:row;flex-grow:0;margin:0 2rem 0 0}.menu>.submenu>a{padding:0 .2rem}}

/*# sourceMappingURL=component---src-templates-blog-post-index-js.718d793d3e2bff70df64.css.map*/</style><title data-react-helmet="true">PHP Cookie, Session | undefined</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link as="script" rel="preload" href="/junhobaik.github.io/component---src-templates-blog-post-index-js-ae5db44960ab76cc3716.js"/><link as="script" rel="preload" href="/junhobaik.github.io/0-263ffa3453f5ec0c6f72.js"/><link as="script" rel="preload" href="/junhobaik.github.io/app-6b09623b151d73ba717b.js"/><link as="script" rel="preload" href="/junhobaik.github.io/webpack-runtime-446c1c350838906cf58d.js"/><link rel="preload" href="/junhobaik.github.io/static/d/558/path---php-cookie-session-7-f-0-966-RhkSoGwFEF06P0pPoSmxsHtrUE.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="wrap"><div class="menu"><div class="bio"><div class="profile-img"><img src="/junhobaik.github.io/static/profile-ea75652a22e45c35cb0bce8841f6d9c5.png" alt="profile_photo"/></div><p class="profile-name">Junho Baik</p><div class="profile-msg"><span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Eum libero eveniet odio quaerat sit unde maxime excepturi, optio quam illum?</span></div></div><div class="submenu"><a href="/junhobaik.github.io/">Home</a><a href="/junhobaik.github.io/taglist">Tags</a><a href="/junhobaik.github.io/archive">Archive</a><a href="/junhobaik.github.io/search">Search</a></div></div><div><div class="blog-post-container"><div class="blog-post"><h1>PHP Cookie, Session</h1><h2>November 06, 2017</h2><div class="blog-post-content"><h3>Cookie</h3>
<p>클라이언트(브라우저)에 데이터를 저장한다.<br>
<code>setCookie(Key_String, Value_String)</code><br>
<code>$_COOKIE</code></p>
<pre><code class="language-php">&#x3C;?php
  setCookie('user', 'baik');
  echo $_COOKIE['user']; // baik
?>
</code></pre>
<h4>위 코드의 문제점</h4>
<p>위 코드가 HTML 코드 안에 포함되어있다면 </p>
<p><code>Warning: Cannot modify header information ...</code></p>
<p>위와 같은 Warning을 만나게 되는데 HTML 코드 바깥으로 setCookie() 를 옮기면 해결할 수 있다 자세한 내용은 <a href="https://stackoverflow.com/questions/2658083/setcookie-cannot-modify-header-information-headers-already-sent">링크</a> 참고.</p>
<p>이 경고는 session에서도 동일하게 발생한다.</p>
<h3>Session</h3>
<p>SessionID(SID)를 식별자로 서버에 데이터를 저장</p>
<p>SID로는 쿠키나 도메인 파라미터를 사용</p>
<p><code>session_start();</code>로 시작, 스크립트의 최상단에 위치해야함</p>
<p><code>$_SESSION</code></p>
<p>데이터는 서버 내에 파일이나 DB에 저장</p>
<p>주로 사용자 인증시에 사용함</p>
<pre><code class="language-php">&#x3C;?php
session_save_path('./session');
session_start();
$_SESSION['name'] = 'baik';
echo $_SESSION['name'];
?>
</code></pre>
<h4>간단한 로그인 예제</h4>
<ul>
<li>login.html</li>
</ul>
<pre><code class="language-html">&#x3C;html>
  &#x3C;head>
    &#x3C;meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
  &#x3C;/head>
  &#x3C;body>
    &#x3C;form action="login_process.php" method="POST">
      &#x3C;p>&#x3C;label>아이디&#x3C;/label>&#x3C;input type="text" name="id" />&#x3C;/p>
      &#x3C;p>&#x3C;label>비밀번호&#x3C;/label>&#x3C;input type="text" name="pwd" />&#x3C;/p>

      &#x3C;input type="submit" />
    &#x3C;/form>
  &#x3C;/body>
&#x3C;/html>
</code></pre>
<ul>
<li>login_process.php</li>
</ul>
<pre><code class="language-php">&#x3C;?php
session_start();
$id = 'id';
$pwd = 'pw';
if(!empty($_POST['id']) &#x26;&#x26; !empty($_POST['pwd'])){
    if($_POST['id'] == $id &#x26;&#x26; $_POST['pwd'] == $pwd){
        $_SESSION['is_login'] = true;
        $_SESSION['nickname'] = 'nick';
        header('Location: ./session.php'); //redirection
        exit;
    }
}
echo '로그인 하지 못했습니다.';
?>
</code></pre>
<ul>
<li>session.php</li>
</ul>
<pre><code class="language-php">&#x3C;?php
session_start();
if(!isset($_SESSION['is_login'])){
    header('Location: ./login.html');
}
?>
    &#x3C;html>

    &#x3C;head>
        &#x3C;meta charset="UTF-8">
    &#x3C;/head>

    &#x3C;body>
        &#x3C;?php echo $_SESSION['nickname'];?>님 환영합니다
        &#x3C;br />
        &#x3C;a href="./logout.php">로그아웃&#x3C;/a>
    &#x3C;/body>

    &#x3C;/html>
</code></pre>
<ul>
<li>logout.php</li>
</ul>
<pre><code class="language-php">&#x3C;?php
ini_set("display_errors", "1");
session_start();
session_destroy();
header('Location: ./login.html');
?>
</code></pre>
<h2>Reference</h2>
<ul>
<li><a href="https://opentutorials.org/module/6">생활코딩 PHP 기본 강의</a></li>
</ul></div></div><div class="blog-post-nav"><ul><li><a rel="prev" href="/junhobaik.github.io/js-semicolon-asi/">← <!-- -->자바스크립트에서 세미콜론(;)을 안써도 될까?</a></li><li><a rel="next" href="/junhobaik.github.io/js-react-apply-sass/">React 프로젝트에 SASS 적용하기<!-- --> →</a></li></ul></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-index-js","jsonName":"php-cookie-session-7f0","path":"/php-cookie-session/"};window.dataPath="558/path---php-cookie-session-7-f-0-966-RhkSoGwFEF06P0pPoSmxsHtrUE";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":"/app-6b09623b151d73ba717b.js","component---src-templates-blog-post-index-js":"/component---src-templates-blog-post-index-js.718d793d3e2bff70df64.css","component---src-templates-post-list-by-tag-index-js":"/component---src-templates-post-list-by-tag-index-js.0385fab50e3e915a48bc.css","component---src-templates-tag-list-index-js":"/component---src-templates-tag-list-index-js.33d100b92fff7c57e5a7.css","component---src-templates-archive-index-js":"/component---src-templates-archive-index-js.b07e76940148e2573111.css","component---src-pages-404-js":"/component---src-pages-404-js.718d793d3e2bff70df64.css","component---src-pages-index-js":"/component---src-pages-index-js.974321178a9aa8815276.css","component---src-pages-search-js":"/component---src-pages-search-js.718d793d3e2bff70df64.css"};/*]]>*/</script><script src="/junhobaik.github.io/webpack-runtime-446c1c350838906cf58d.js" async=""></script><script src="/junhobaik.github.io/app-6b09623b151d73ba717b.js" async=""></script><script src="/junhobaik.github.io/0-263ffa3453f5ec0c6f72.js" async=""></script><script src="/junhobaik.github.io/component---src-templates-blog-post-index-js-ae5db44960ab76cc3716.js" async=""></script></body></html>